\section{Control structures}

\begin{frame}[fragile=singleslide]
  \frametitle{Conditional execution}

  \begin{minipage}{\linewidth}
    \begin{minipage}[t]{0.48\linewidth}
      \begin{Schunk}
\begin{lstlisting}
if (`\meta{condition}')
    `\meta{consequence}'
\end{lstlisting}
      \end{Schunk}
    \end{minipage}
    \hfill
    \begin{minipage}[t]{0.48\linewidth}
      \begin{Schunk}
\begin{lstlisting}
if (`\meta{condition}')
    `\meta{consequence}'
else
    `\meta{alternative}'
\end{lstlisting}
      \end{Schunk}
    \end{minipage} \\
    \mbox{}
  \end{minipage}
  \begin{itemize}
  \item \meta{condition} statement evaluating to \alert{unique} value
    \texttt{TRUE} or \texttt{FALSE}
    \begin{itemize}
    \item useful: \verb=all=, \verb=any=,
      \verb=isTRUE=, \dots
    \item useless: \verb|if (TRUE == TRUE)|
    \end{itemize}
  \item \meta{consequence} statement, or group of statements, to execute
    when condition is \texttt{TRUE}
  \item \meta{alternative} statement, or group of statements, to execute
    when condition is \texttt{FALSE}
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Repeated execution}

  \tipbox{
    \begin{itemize}
    \item First try to vectorize calculations
    \item Use functions
      \begin{itemize}
      \item \texttt{outer}
      \item \texttt{apply}
      \item \texttt{tapply}
      \item \texttt{lapply}, \texttt{sapply}
      \item \texttt{mapply}
      \end{itemize}
    \end{itemize}}
\end{frame}

\begin{frame}[fragile=singleslide]
  \frametitle{Three types of loops}

  Number of repetitions known.
  \begin{Schunk}
\begin{lstlisting}
for (`\meta{variable}' in `\meta{sequence}')
    `\meta{statement}'
\end{lstlisting}
  \end{Schunk}

  Number of repetitions unknown, maybe never executed.
  \begin{Schunk}
\begin{lstlisting}
while (`\meta{condition}')
    `\meta{statement}'
\end{lstlisting}
  \end{Schunk}

  Number of repetitions unknown, executed at least once.
  \begin{Schunk}
\begin{lstlisting}
repeat
    `\meta{statement}'
\end{lstlisting}
  \end{Schunk}
\end{frame}

\begin{frame}
  \frametitle{Flow control}

  \begin{itemize}
  \item \texttt{break} causes exit from innermost loop
  \item \texttt{next} forces execution of the next iteration of
    the loop
  \item \texttt{stop()} forces exit from function with error message
  \item \texttt{warning()} forces exit from function with warning
  \item \texttt{return()} forces exit from function with value
  \end{itemize}

  \pause
  \gotoR{control.R}
\end{frame}

%%% Local Variables:
%%% mode: latex
%%% TeX-engine: xetex
%%% TeX-master: "ime-2017-workshop-computational-actuarial-science-r"
%%% End:
